.pregame(v-if="game.inRoom && !game.gameStarted && !ui.showingDeckSelection")

  .room-code
    .label Your room code
    .display {{game.roomCode}}
    .how-to-share(v-if="my.isRoomHost || game.players.length > 0") Share this URL to invite your friends to play.

  .video-holder(v-if="ui.watchingVideo")
    .inside
      figure.video
        iframe#ytplayer(type="text/html" src="https://www.youtube-nocookie.com/embed/2jE6ifrz9bU?autoplay=1&controls=0&fs=0&modestbranding=1&playsinline=1&color=white" frameborder="0" allowfullscreen)
        figcaption
          button(@click="ui.watchingVideo = false") Okay, close this video.

  .nobody-here(v-else-if="!my.isRoomHost && game.players.length < 1")
    .inside
      .content
        h2 There's nobody here.
        p Either you have the wrong room code, or your host hasn't entered their name yet.

  .sign-in(v-else-if="(my.isRoomHost || game.players.length > 0) && !game.gameStarted")

    .inside
      form.pregame-form(@submit.prevent="updateMyInfo()")
        fieldset
          input(v-model="my.nameInput" type="text" maxlength="34" required)
          label Your Name

        .button-holder
          button(type="submit") 
            span(v-if="!ui.nameEntered") Save Name
            span(v-if="ui.nameEntered") Change Name
      
      .deck-selector-ui(v-if="my.isRoomHost && ui.nameEntered")
        button.choose-decks-button(type="button" @click="openDeckSelection()" v-if="game.selectedDeckIds.length === 0") 
          span(v-if="game.selectedDeckIds.length === 0") Choose Decks
          span(v-else) Change Decks
        
        .selected-decks-info(v-if="game.selectedDeckIds.length > 0")
          h3 Selected Decks ({{computedTotalSelectedCards}} cards)
          ul.selected-decks-list
            li(v-for="deck in computedSelectedDecks" :key="deck.id")
              span.deck-name {{deck.name}}
              span.deck-cards ({{deck.cards ? deck.cards.length : 0}} cards)
          
          .card-status.not-enough(v-if="!computedHasEnoughCards")
            p(v-if="!computedHasEnoughCards")
              strong âš  
              | You need {{computedMinimumCards - computedTotalSelectedCards}} more cards for {{computedMinimumPlayerCount}} players.

          button.choose-decks-button(type="button" @click="openDeckSelection()") 
            span(v-if="game.selectedDeckIds.length === 0") Choose Decks
            span(v-else) Change Decks

      .selected-decks-non-host(v-if="!my.isRoomHost && ui.nameEntered && game.selectedDeckIds.length > 0")
        h3 Game will use these decks:
        ul.selected-decks-list
          li(v-for="deck in computedSelectedDecks" :key="deck.id")
            span.deck-name {{deck.name}}
            span.deck-cards ({{deck.cards ? deck.cards.length : 0}} cards)


      .start-button(v-if="my.isRoomHost && ui.nameEntered && game.selectedDeckIds.length > 0")
        button(type="button" @click="startTheGame()" :disabled="game.players.length < 3 || !computedHasEnoughCards || ui.isStartingGame === true") 
          span(v-if="!ui.isStartingGame") Start The Game
          span(v-else) Starting...
          
        .not-enough-players(v-if="game.players.length < 3") You need at least 3 people to play 
          strong The Wrongest Words
          | .
        .not-enough-cards(v-else-if="!computedHasEnoughCards") You need to select more decks. 
          strong {{computedMinimumCards - computedTotalSelectedCards}} more cards 
          | required.
      
      .start-button(v-else-if="!my.isRoomHost && ui.nameEntered && game.selectedDeckIds.length > 0")
        p(v-if="game.players.length < 3") You need at least #[strong 3 people] to play.
        p(v-else-if="game.selectedDeckIds.length > 0") {{computedHostName}} needs to select some decks to play with.
        p Waiting for {{computedHostName}} to start the game...

      //.issues-prompt(v-if="ui.nameEntered")
        p Want to suggest your own lies for this game?  
          a(href="https://github.com/AhoyLemon/kinda.fun/issues/new/choose" taget="_blank") Open a new GitHub issue.


  .players
    .player(v-for="player in game.players" :class="{ 'is-me' : (my.playerID == player.playerID), 'is-host': (player.playerID == game.roomCreatorID) }")
      .player-inside
        .name {{player.name}}
        .host(v-if="player.playerID == game.roomCreatorID")
          svg(height="100px" width="100px" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 80 80" style="enable-background:new 0 0 80 80;" space="preserve")
            path(d="M65,26c-1.6499,0-3,1.3501-3,3c0,0.46,0.1001,0.8999,0.29,1.29l-5.1499,5.1499c-0.2202,0.22-0.52,0.3301-0.8301,0.29   c-0.3101-0.05-0.5903-0.23-0.7402-0.5l-2.6997-4.73c-0.1602-0.27-0.4302-0.45-0.7402-0.49s-0.6201,0.0601-0.8398,0.28L47.3799,34.2   c-0.2397,0.24-0.5698,0.3401-0.8999,0.28c-0.3301-0.0701-0.5898-0.28-0.7202-0.5898L42.0303,25.2C42.6299,24.6599,43,23.8701,43,23   c0-1.6499-1.3501-3-3-3s-3,1.3501-3,3c0,0.8599,0.3599,1.6499,0.9697,2.2l-3.7295,8.6902C34.1099,34.2,33.8501,34.4099,33.52,34.48   c-0.3301,0.0601-0.6602-0.04-0.8999-0.28L28.71,30.29c-0.2197-0.22-0.5298-0.3201-0.8398-0.28s-0.5801,0.22-0.7402,0.49   l-2.6997,4.73c-0.1499,0.27-0.4302,0.45-0.7402,0.5c-0.3101,0.03-0.6099-0.0701-0.8301-0.29L17.71,30.29   C17.8999,29.8999,18,29.46,18,29c0-1.6499-1.3501-3-3-3s-3,1.3501-3,3c0,1.5701,1.2197,2.8599,2.7598,2.98l6.25,22.2   C21.2803,58.1899,30.6802,60,40,60s18.7197-1.8101,18.9902-5.8201l6.25-22.2C66.7803,31.8599,68,30.5701,68,29   C68,27.3501,66.6499,26,65,26z M40,58c-11.3198,0-17-2.5601-17-4s5.6802-4,17-4s17,2.5601,17,4S51.3198,58,40,58z")

  .instructions-banner
    .banner-inside
      strong Need instructions? 
      a(@click="watchVideo()") Click here.
      br
      | I promise I'll try to make it quick.